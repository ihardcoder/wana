{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap fa955d85b78f562c9b52","webpack:///./src/index.sync.js","webpack:///./src/core/main.js","webpack:///./src/core/constants.js","webpack:///./src/modules/timing/index.js"],"names":[],"mappings":"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","file":"wa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fa955d85b78f562c9b52\n **/","//main.js with Synchronous modules all in one\nimport {WA} from './core/main.js';\nexport const wa = WA.create();\nimport { mod_timing as timing} from './modules/timing';\nwa.use(timing.name,timing.fn);\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.sync.js\n **/","import { exTypes } from \"./constants.js\";\n\nexport const WA = {\n    modules: [],\n    data: {},\n    create: function() {\n        const _this = this;\n        _this.data = {};\n        return _this;\n    },\n    send: function() {\n\n    },\n    set: function() {\n\n    },\n    // 创建插件API\n    use: function(name, fn) {\n        let _this = this;\n        if (!name || !fn || typeof fn !== 'function') {\n            return;\n        }\n        _this.modules.push(name);\n        _this.data[name] = fn.call(_this);\n    }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/main.js\n **/","// exTypes代表组件的执行时机\n// async - window.onload之后执行，不影响页面渲染\n// sync - 随主文件一同加载执行\nexport const exTypes = {\n    \"async\": \"async\",\n    \"sync\": \"sync\"\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/constants.js\n **/","import { exTypes } from \"../../core/constants.js\";\n\nexport const mod_timing = {\n    name: 'timing',\n    exType: 'async',\n    fn: function() {\n        const _this = this,\n            _win = window,\n            _performance = _win.performance || _win.webkitPerformance || _win.msPerformance || _win.mozPerformance;\n        // 只统计实现了performance API的平台\n        if (!_performance) {\n            return false;\n        }\n        const _timing = _performance.timing;\n        let times = {};\n        // 白屏时间\n        times.firstPaint = getFirstPaint(_win, _timing);\n        // DNS查询耗时\n        times.domainLookup = _timing.domainLookupEnd - _timing.domainLookupStart;\n        // TCP建立连接耗时\n        times.tcpConnect = _timing.connectEnd - _timing.connectStart;\n        // html文档请求/响应总耗时\n        times.htmlRequest = _timing.responseEnd - _timing.requestStart;\n        // html文档请求耗时\n        times.htmlPureRequest = _timing.requestEnd - _timing.requestStart;\n        // html文档响应传输耗时\n        times.htmlPureResponse = _timing.responseEnd - _timing.responseStart;\n        // domready时间点\n        times.domready = _timing.domContentLoadedEventEnd - _timing.fetchStart;\n        // onload时间点\n        times.onload = _timing.loadEventEnd - _timing.fetchStart;\n\n        return times;\n    }\n};\n\n/**\n * 获取白屏时间\n */\nconst getFirstPaint = function(win, timing) {\n    let _firstPaint = 0;\n    if (win.chrome && win.chrome.loadTimes) {\n        // chrome提供loadTimes API，以s作为计量单位，数据比performance API精确几位小数\n        // loadTimes的startLoadTime等于performance.timging.fetchStart\n        let _times_chrome = win.chrome.loadTimes();\n        _firstPaint = (_times_chrome.firstPaintTime - _times_chrome.startLoadTime) * 1000;\n    } else if (typeof timing.msFirstPaint === 'number') {\n        // IE提供msFirstPaint API，以ms作为计量单位\n        _firstPaint = timing.msFirstPaint - timing.fetchStart;\n    } else {\n        _firstPaint = timing.domLoading - timing.fetchStart;\n    }\n    return _firstPaint;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/timing/index.js\n **/"],"sourceRoot":""}